"use strict";(self.webpackChunksrcful_documentation=self.webpackChunksrcful_documentation||[]).push([[6624],{112:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>o,frontMatter:()=>d,metadata:()=>i,toc:()=>h});const i=JSON.parse('{"id":"developer/data-models","title":"Data Models","description":"This document describes Sourceful\'s data model architecture, covering both the logical hierarchy of resources and the telemetry data structures for distributed energy resources.","source":"@site/docs/developer/data-models.md","sourceDirName":"developer","slug":"/developer/data-models","permalink":"/developer/data-models","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3,"slug":"/developer/data-models","pagination_prev":null},"sidebar":"docs","next":{"title":"Authentication & Permissioning","permalink":"/developer/auth"}}');var s=r(4848),t=r(8453);const d={sidebar_position:3,slug:"/developer/data-models",pagination_prev:null},l="Data Models",c={},h=[{value:"Platform Hierarchy",id:"platform-hierarchy",level:2},{value:"1. WALLET \u2192 2. SITE \u2192 3. DEVICE \u2192 4. DER",id:"1-wallet--2-site--3-device--4-der",level:3},{value:"WALLET (Permission Layer)",id:"wallet-permission-layer",level:3},{value:"SITE (Logical Grouping)",id:"site-logical-grouping",level:3},{value:"DEVICE (Physical Connection Point)",id:"device-physical-connection-point",level:3},{value:"DER (Distributed Energy Resource)",id:"der-distributed-energy-resource",level:3},{value:"Hierarchy Example",id:"hierarchy-example",level:2},{value:"Telemetry Data Models",id:"telemetry-data-models",level:2},{value:"Base Structure",id:"base-structure",level:2},{value:"DERData Root Structure",id:"derdata-root-structure",level:3},{value:"Inheritance Model",id:"inheritance-model",level:3},{value:"Units and Conventions",id:"units-and-conventions",level:2},{value:"Units",id:"units",level:3},{value:"Sign Conventions",id:"sign-conventions",level:3},{value:"Device Types",id:"device-types",level:2},{value:"BaseDeviceData",id:"basedevicedata",level:3},{value:"PV Data Model",id:"pv-data-model",level:3},{value:"Battery Data Model",id:"battery-data-model",level:3},{value:"Meter Data Model",id:"meter-data-model",level:3},{value:"Charger Data Model",id:"charger-data-model",level:3},{value:"Thoughts on UX and Defaults for Launch",id:"thoughts-on-ux-and-defaults-for-launch",level:3}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"data-models",children:"Data Models"})}),"\n",(0,s.jsx)(n.p,{children:"This document describes Sourceful's data model architecture, covering both the logical hierarchy of resources and the telemetry data structures for distributed energy resources."}),"\n",(0,s.jsx)(n.h2,{id:"platform-hierarchy",children:"Platform Hierarchy"}),"\n",(0,s.jsx)(n.p,{children:"Sourceful organizes energy resources in a four-level hierarchy:"}),"\n",(0,s.jsx)(n.h3,{id:"1-wallet--2-site--3-device--4-der",children:"1. WALLET \u2192 2. SITE \u2192 3. DEVICE \u2192 4. DER"}),"\n",(0,s.jsx)(n.h3,{id:"wallet-permission-layer",children:"WALLET (Permission Layer)"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.strong,{children:"Wallet"})," is the top-level authentication and authorization entity. It represents:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"User identity and ownership"}),"\n",(0,s.jsx)(n.li,{children:"Permission boundaries (OAuth-style scopes)"}),"\n",(0,s.jsx)(n.li,{children:"Access control for all resources beneath it"}),"\n",(0,s.jsx)(n.li,{children:"The entity that grants or revokes access to applications"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["A Wallet can own multiple Sites. See ",(0,s.jsx)(n.a,{href:"/developer/auth",children:"Authentication & Permissioning"})," for details on OAuth-style access patterns."]}),"\n",(0,s.jsx)(n.h3,{id:"site-logical-grouping",children:"SITE (Logical Grouping)"}),"\n",(0,s.jsxs)(n.p,{children:["A ",(0,s.jsx)(n.strong,{children:"Site"}),' represents a complete energy system - everything "behind the meter":']}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"The logical boundary for EMS optimization"}),"\n",(0,s.jsx)(n.li,{children:"Typically corresponds to a physical location (home, building, facility)"}),"\n",(0,s.jsx)(n.li,{children:"Contains all energy resources at that location"}),"\n",(0,s.jsx)(n.li,{children:"The level where energy flows are balanced and optimized"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Example Site composition:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Grid connection point (meter)"}),"\n",(0,s.jsx)(n.li,{children:"Solar panels (PV)"}),"\n",(0,s.jsx)(n.li,{children:"Battery storage"}),"\n",(0,s.jsx)(n.li,{children:"EV charger"}),"\n",(0,s.jsx)(n.li,{children:"Hybrid inverter"}),"\n",(0,s.jsx)(n.li,{children:"Heat pump"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"The Site concept is crucial because energy optimization happens at this level - you're optimizing the whole system, not individual devices in isolation."}),"\n",(0,s.jsx)(n.h3,{id:"device-physical-connection-point",children:"DEVICE (Physical Connection Point)"}),"\n",(0,s.jsxs)(n.p,{children:["A ",(0,s.jsx)(n.strong,{children:"Device"})," represents the physical hardware you communicate with and control:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"The actual communication endpoint (Modbus address, MQTT client, P1 port)"}),"\n",(0,s.jsx)(n.li,{children:"Often the electrical connection point"}),"\n",(0,s.jsx)(n.li,{children:"What the Zap directly talks to via protocols"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Examples:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Hybrid inverter (Modbus-TCP device)"}),"\n",(0,s.jsx)(n.li,{children:"EV charger (MQTT device)"}),"\n",(0,s.jsx)(n.li,{children:"Smart meter (P1 device)"}),"\n",(0,s.jsx)(n.li,{children:"Battery management system (Modbus-RTU device)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"One Device may expose multiple DERs (see below)."}),"\n",(0,s.jsx)(n.h3,{id:"der-distributed-energy-resource",children:"DER (Distributed Energy Resource)"}),"\n",(0,s.jsxs)(n.p,{children:["A ",(0,s.jsx)(n.strong,{children:"DER"})," is the logical representation of an energy resource or function:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:'What the energy system "sees" and models'}),"\n",(0,s.jsx)(n.li,{children:"The unit of energy generation, storage, or consumption"}),"\n",(0,s.jsx)(n.li,{children:"Can be a physical component or a logical representation"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Important concept:"}),' DERs are often representations of capabilities "under" a Device, not always directly controllable entities.']}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Example: Hybrid Inverter"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"DEVICE"}),": The inverter itself (communication/control point via Modbus)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"DER #1"}),": Solar PV (generation capability)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"DER #2"}),": Battery (storage capability)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"DER #3"}),": Grid connection (import/export capability)"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["You control the ",(0,s.jsx)(n.strong,{children:"Device"})," (inverter), but you represent its capabilities as separate ",(0,s.jsx)(n.strong,{children:"DERs"})," (PV, battery). You cannot directly control the battery - you control the inverter which manages the battery - but you still model the battery as a distinct DER for optimization purposes."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"DER Types:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"PV (Photovoltaic)"}),": Solar generation"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Battery"}),": Energy storage"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Meter"}),": Grid import/export measurement"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Charger"}),": EV charger (uni- or bi-directional)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Flexible Load"}),": Controllable consumption (heat pumps, HVAC, etc.)"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"hierarchy-example",children:"Hierarchy Example"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"WALLET: user_abc123\n  \u2514\u2500 SITE: home_main_street\n      \u251c\u2500 DEVICE: hybrid_inverter_01 (Modbus-TCP)\n      \u2502   \u251c\u2500 DER: pv_rooftop (Solar PV)\n      \u2502   \u2514\u2500 DER: battery_01 (Home Battery)\n      \u251c\u2500 DEVICE: ev_charger_01 (MQTT)\n      \u2502   \u2514\u2500 DER: tesla_model3 (Charger)\n      \u2514\u2500 DEVICE: smart_meter_01 (P1)\n          \u2514\u2500 DER: grid_meter (Meter)\n"})}),"\n",(0,s.jsx)(n.p,{children:"In this example:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"The hybrid inverter is one physical device, but exposes two DER capabilities"}),"\n",(0,s.jsx)(n.li,{children:"Each Device may use a different protocol"}),"\n",(0,s.jsx)(n.li,{children:"The Site optimizes across all DERs as a coordinated system"}),"\n",(0,s.jsx)(n.li,{children:"The Wallet controls access permissions for the entire hierarchy"}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"telemetry-data-models",children:"Telemetry Data Models"}),"\n",(0,s.jsx)(n.p,{children:"The following sections describe the standardized telemetry data structures for DER types. Each DER type inherits from a common base structure while adding resource-specific fields."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"#base-structure",children:"Base Structure"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#derdata-root-structure",children:"DERData Root Structure"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#inheritance-model",children:"Inheritance Model"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"#units-and-conventions",children:"Units and Conventions"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#units",children:"Units"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#sign-conventions",children:"Sign Conventions"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"#device-types",children:"Device Types"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#basedevicedata",children:"BaseDeviceData"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#pv-data-model",children:"PV Data Model"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#battery-data-model",children:"Battery Data Model"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#meter-data-model",children:"Meter Data Model"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"base-structure",children:"Base Structure"}),"\n",(0,s.jsx)(n.h3,{id:"derdata-root-structure",children:"DERData Root Structure"}),"\n",(0,s.jsx)(n.p,{children:"The root data structure can contain up to three subsystems:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"pv"}),": Photovoltaic system data"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"battery"}),": Battery storage system data"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"meter"}),": Meter data"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"inheritance-model",children:"Inheritance Model"}),"\n",(0,s.jsxs)(n.p,{children:["All device types inherit from ",(0,s.jsx)(n.code,{children:"BaseDeviceData"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "type": "pv",\n  "make": "Deye",\n  "timestamp": 1755701251122,\n  "read_time_ms": 42\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"units-and-conventions",children:"Units and Conventions"}),"\n",(0,s.jsx)(n.h3,{id:"units",children:"Units"}),"\n",(0,s.jsx)(n.p,{children:"All measurements use base SI units:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Power"}),": W (watts)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Energy"}),": Wh (watt-hours)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Voltage"}),": V (volts)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Current"}),": A (amperes)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Frequency"}),": Hz (hertz)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Temperature"}),": \xb0C (Celsius)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"State of Charge"}),": fraction (0.0 = empty, 1.0 = full)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Time"}),": s (seconds), ms (milliseconds for timestamps)"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"sign-conventions",children:"Sign Conventions"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Generation"}),": Negative power (PV: ",(0,s.jsx)(n.code,{children:"W < 0"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Charging"}),": Positive power/current (Battery: ",(0,s.jsx)(n.code,{children:"W > 0"}),", ",(0,s.jsx)(n.code,{children:"A > 0"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Discharging"}),": Negative power/current (Battery: ",(0,s.jsx)(n.code,{children:"W < 0"}),", ",(0,s.jsx)(n.code,{children:"A < 0"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Import"}),": Positive power (Meter: ",(0,s.jsx)(n.code,{children:"W > 0"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Export"}),": Negative power (Meter: ",(0,s.jsx)(n.code,{children:"W < 0"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Energy Totals"}),": Always positive values"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"device-types",children:"Device Types"}),"\n",(0,s.jsx)(n.h3,{id:"basedevicedata",children:"BaseDeviceData"}),"\n",(0,s.jsx)(n.p,{children:"Common fields shared by all device types:"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Field"}),(0,s.jsx)(n.th,{children:"Unit"}),(0,s.jsx)(n.th,{children:"Data Type"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"type"})}),(0,s.jsx)(n.td,{children:"-"}),(0,s.jsx)(n.td,{children:"string"}),(0,s.jsx)(n.td,{children:'Object type ("pv", "battery", "meter")'})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"make"})}),(0,s.jsx)(n.td,{children:"-"}),(0,s.jsx)(n.td,{children:"string"}),(0,s.jsx)(n.td,{children:"Manufacturer/brand name (optional)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"timestamp"})}),(0,s.jsx)(n.td,{children:"milliseconds"}),(0,s.jsx)(n.td,{children:"integer"}),(0,s.jsx)(n.td,{children:"Timestamp of reading start"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"read_time_ms"})}),(0,s.jsx)(n.td,{children:"milliseconds"}),(0,s.jsx)(n.td,{children:"integer"}),(0,s.jsx)(n.td,{children:"Time taken to complete the reading"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"pv-data-model",children:"PV Data Model"}),"\n",(0,s.jsx)(n.p,{children:"Photovoltaic system data with solar generation metrics:"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Example:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "type": "pv",\n  "make": "Deye",\n  "W": -1500,\n  "rated_power_W": 3000,\n  "mppt1_V": 400,\n  "mppt1_A": -3.75,\n  "mppt2_V": 380,\n  "mppt2_A": -3.68,\n  "heatsink_C": 45,\n  "total_generation_Wh": 15000\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Fields:"})}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Field"}),(0,s.jsx)(n.th,{children:"Unit"}),(0,s.jsx)(n.th,{children:"Data Type"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"W"})}),(0,s.jsx)(n.td,{children:"W"}),(0,s.jsx)(n.td,{children:"integer"}),(0,s.jsx)(n.td,{children:"Power Generation (always negative)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"rated_power_W"})}),(0,s.jsx)(n.td,{children:"W"}),(0,s.jsx)(n.td,{children:"integer"}),(0,s.jsx)(n.td,{children:"System Rated Power"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"mppt1_V"})}),(0,s.jsx)(n.td,{children:"V"}),(0,s.jsx)(n.td,{children:"float"}),(0,s.jsx)(n.td,{children:"MPPT1 Voltage"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"mppt1_A"})}),(0,s.jsx)(n.td,{children:"A"}),(0,s.jsx)(n.td,{children:"float"}),(0,s.jsx)(n.td,{children:"MPPT1 Current"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"mppt2_V"})}),(0,s.jsx)(n.td,{children:"V"}),(0,s.jsx)(n.td,{children:"float"}),(0,s.jsx)(n.td,{children:"MPPT2 Voltage"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"mppt2_A"})}),(0,s.jsx)(n.td,{children:"A"}),(0,s.jsx)(n.td,{children:"float"}),(0,s.jsx)(n.td,{children:"MPPT2 Current"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"heatsink_C"})}),(0,s.jsx)(n.td,{children:"\xb0C"}),(0,s.jsx)(n.td,{children:"float"}),(0,s.jsx)(n.td,{children:"Inverter Temperature"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"total_generation_Wh"})}),(0,s.jsx)(n.td,{children:"Wh"}),(0,s.jsx)(n.td,{children:"integer"}),(0,s.jsx)(n.td,{children:"Total Energy Generated"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"battery-data-model",children:"Battery Data Model"}),"\n",(0,s.jsx)(n.p,{children:"Battery storage system data with charge/discharge metrics:"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Example:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "type": "battery",\n  "make": "Tesla",\n  "W": 500,\n  "A": 10.5,\n  "V": 48.2,\n  "SoC_nom_fract": 0.75,\n  "heatsink_C": 25,\n  "total_charge_Wh": 8000,\n  "total_discharge_Wh": 7200\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Fields:"})}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Field"}),(0,s.jsx)(n.th,{children:"Unit"}),(0,s.jsx)(n.th,{children:"Data Type"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"W"})}),(0,s.jsx)(n.td,{children:"W"}),(0,s.jsx)(n.td,{children:"integer"}),(0,s.jsx)(n.td,{children:"Active Power (+ charge, - discharge)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"A"})}),(0,s.jsx)(n.td,{children:"A"}),(0,s.jsx)(n.td,{children:"float"}),(0,s.jsx)(n.td,{children:"Current (+ charge, - discharge)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"V"})}),(0,s.jsx)(n.td,{children:"V"}),(0,s.jsx)(n.td,{children:"float"}),(0,s.jsx)(n.td,{children:"Voltage"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"SoC_nom_fract"})}),(0,s.jsx)(n.td,{children:"fraction"}),(0,s.jsx)(n.td,{children:"float"}),(0,s.jsx)(n.td,{children:"State of Charge (0.0-1.0)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"heatsink_C"})}),(0,s.jsx)(n.td,{children:"\xb0C"}),(0,s.jsx)(n.td,{children:"float"}),(0,s.jsx)(n.td,{children:"Battery Temperature"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"total_charge_Wh"})}),(0,s.jsx)(n.td,{children:"Wh"}),(0,s.jsx)(n.td,{children:"integer"}),(0,s.jsx)(n.td,{children:"Total Energy Charged"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"total_discharge_Wh"})}),(0,s.jsx)(n.td,{children:"Wh"}),(0,s.jsx)(n.td,{children:"integer"}),(0,s.jsx)(n.td,{children:"Total Energy Discharged"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"meter-data-model",children:"Meter Data Model"}),"\n",(0,s.jsx)(n.p,{children:"Grid meter data with import/export and phase-level measurements:"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Example:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "type": "meter",\n  "make": "Kamstrup",\n  "W": 1200,\n  "Hz": 50.0,\n  "L1_V": 230,\n  "L1_A": 5.2,\n  "L1_W": 400,\n  "L2_V": 229,\n  "L2_A": 5.1,\n  "L2_W": 380,\n  "L3_V": 231,\n  "L3_A": 5.3,\n  "L3_W": 420,\n  "total_import_Wh": 25000,\n  "total_export_Wh": 18000\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Fields:"})}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Field"}),(0,s.jsx)(n.th,{children:"Unit"}),(0,s.jsx)(n.th,{children:"Data Type"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"W"})}),(0,s.jsx)(n.td,{children:"W"}),(0,s.jsx)(n.td,{children:"integer"}),(0,s.jsx)(n.td,{children:"Total Active Power (+ import, - export)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"Hz"})}),(0,s.jsx)(n.td,{children:"Hz"}),(0,s.jsx)(n.td,{children:"float"}),(0,s.jsx)(n.td,{children:"Grid Frequency"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"L1_V"})}),(0,s.jsx)(n.td,{children:"V"}),(0,s.jsx)(n.td,{children:"float"}),(0,s.jsx)(n.td,{children:"L1 Phase Voltage"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"L1_A"})}),(0,s.jsx)(n.td,{children:"A"}),(0,s.jsx)(n.td,{children:"float"}),(0,s.jsx)(n.td,{children:"L1 Phase Current"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"L1_W"})}),(0,s.jsx)(n.td,{children:"W"}),(0,s.jsx)(n.td,{children:"float"}),(0,s.jsx)(n.td,{children:"L1 Phase Power"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"L2_V"})}),(0,s.jsx)(n.td,{children:"V"}),(0,s.jsx)(n.td,{children:"float"}),(0,s.jsx)(n.td,{children:"L2 Phase Voltage"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"L2_A"})}),(0,s.jsx)(n.td,{children:"A"}),(0,s.jsx)(n.td,{children:"float"}),(0,s.jsx)(n.td,{children:"L2 Phase Current"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"L2_W"})}),(0,s.jsx)(n.td,{children:"W"}),(0,s.jsx)(n.td,{children:"float"}),(0,s.jsx)(n.td,{children:"L2 Phase Power"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"L3_V"})}),(0,s.jsx)(n.td,{children:"V"}),(0,s.jsx)(n.td,{children:"float"}),(0,s.jsx)(n.td,{children:"L3 Phase Voltage"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"L3_A"})}),(0,s.jsx)(n.td,{children:"A"}),(0,s.jsx)(n.td,{children:"float"}),(0,s.jsx)(n.td,{children:"L3 Phase Current"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"L3_W"})}),(0,s.jsx)(n.td,{children:"W"}),(0,s.jsx)(n.td,{children:"float"}),(0,s.jsx)(n.td,{children:"L3 Phase Power"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"total_import_Wh"})}),(0,s.jsx)(n.td,{children:"Wh"}),(0,s.jsx)(n.td,{children:"integer"}),(0,s.jsx)(n.td,{children:"Total Energy Imported"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"total_export_Wh"})}),(0,s.jsx)(n.td,{children:"Wh"}),(0,s.jsx)(n.td,{children:"integer"}),(0,s.jsx)(n.td,{children:"Total Energy Exported"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"charger-data-model",children:"Charger Data Model"}),"\n",(0,s.jsx)(n.p,{children:"EV charger data with charge/discharge metrics and phase-level measurements. This DER type represents the charger's capability as a flexible load/source (uni- or bi-directional), with optional vehicle-specific attributes."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Example:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "type": "charger",\n  "make": "Ambibox",\n  "timestamp": 1731573040000,\n  "read_time_ms": 42,\n  "W": 6400,\n  "L1_V": 228.03,\n  "L1_A": 9.228,\n  "L1_W": 2104,\n  "L2_V": 227.92,\n  "L2_A": 9.333,\n  "L2_W": 2127,\n  "L3_V": 227.62,\n  "L3_A": 9.444,\n  "L3_W": 2150,\n  "status": "charging",\n  "vehicle_id": "my_tesla_model3",\n  "vehicle_capacity_Wh": 75000,\n  "vehicle_SoC_fract": 0.65,\n  "SoC_source": "vehicle",\n  "capacity_source": "user",\n  "total_import_Wh": 3623394,\n  "total_export_Wh": 12000,\n  "session_id": "1234",\n  "session_import_Wh": 15200,\n  "session_export_Wh": 0\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Fields:"})}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Field"}),(0,s.jsx)(n.th,{children:"Unit"}),(0,s.jsx)(n.th,{children:"Data Type"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"W"})}),(0,s.jsx)(n.td,{children:"W"}),(0,s.jsx)(n.td,{children:"integer"}),(0,s.jsx)(n.td,{children:"Active Power (+ charge/import to vehicle, - discharge/export from vehicle)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"L1_V"})}),(0,s.jsx)(n.td,{children:"V"}),(0,s.jsx)(n.td,{children:"float"}),(0,s.jsx)(n.td,{children:"L1 Phase Voltage"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"L1_A"})}),(0,s.jsx)(n.td,{children:"A"}),(0,s.jsx)(n.td,{children:"float"}),(0,s.jsx)(n.td,{children:"L1 Phase Current"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"L1_W"})}),(0,s.jsx)(n.td,{children:"W"}),(0,s.jsx)(n.td,{children:"float"}),(0,s.jsx)(n.td,{children:"L1 Phase Power (computed as V * A)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"L2_V"})}),(0,s.jsx)(n.td,{children:"V"}),(0,s.jsx)(n.td,{children:"float"}),(0,s.jsx)(n.td,{children:"L2 Phase Voltage"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"L2_A"})}),(0,s.jsx)(n.td,{children:"A"}),(0,s.jsx)(n.td,{children:"float"}),(0,s.jsx)(n.td,{children:"L2 Phase Current"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"L2_W"})}),(0,s.jsx)(n.td,{children:"W"}),(0,s.jsx)(n.td,{children:"float"}),(0,s.jsx)(n.td,{children:"L2 Phase Power (computed as V * A)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"L3_V"})}),(0,s.jsx)(n.td,{children:"V"}),(0,s.jsx)(n.td,{children:"float"}),(0,s.jsx)(n.td,{children:"L3 Phase Voltage"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"L3_A"})}),(0,s.jsx)(n.td,{children:"A"}),(0,s.jsx)(n.td,{children:"float"}),(0,s.jsx)(n.td,{children:"L3 Phase Current"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"L3_W"})}),(0,s.jsx)(n.td,{children:"W"}),(0,s.jsx)(n.td,{children:"float"}),(0,s.jsx)(n.td,{children:"L3 Phase Power (computed as V * A)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"status"})}),(0,s.jsx)(n.td,{children:"-"}),(0,s.jsx)(n.td,{children:"string"}),(0,s.jsx)(n.td,{children:'Charger status: "charging", "available", "preparing", "error"'})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"vehicle_id"})}),(0,s.jsx)(n.td,{children:"-"}),(0,s.jsx)(n.td,{children:"string, optional"}),(0,s.jsx)(n.td,{children:"User-supplied or detected vehicle reference (null if unknown)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"vehicle_capacity_Wh"})}),(0,s.jsx)(n.td,{children:"Wh"}),(0,s.jsx)(n.td,{children:"integer, optional"}),(0,s.jsx)(n.td,{children:"Vehicle battery capacity (null if unknown)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"vehicle_SoC_fract"})}),(0,s.jsx)(n.td,{children:"fraction"}),(0,s.jsx)(n.td,{children:"float, optional"}),(0,s.jsx)(n.td,{children:"State of Charge (0.0-1.0, null if unknown)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"SoC_source"})}),(0,s.jsx)(n.td,{children:"-"}),(0,s.jsx)(n.td,{children:"string, optional"}),(0,s.jsx)(n.td,{children:'Data source ("vehicle", "estimated", "manual", "unknown")'})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"capacity_source"})}),(0,s.jsx)(n.td,{children:"-"}),(0,s.jsx)(n.td,{children:"string, optional"}),(0,s.jsx)(n.td,{children:'Data source ("vehicle", "user", "default")'})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"total_import_Wh"})}),(0,s.jsx)(n.td,{children:"Wh"}),(0,s.jsx)(n.td,{children:"integer"}),(0,s.jsx)(n.td,{children:"Total Energy Imported (lifetime charge energy)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"total_export_Wh"})}),(0,s.jsx)(n.td,{children:"Wh"}),(0,s.jsx)(n.td,{children:"integer"}),(0,s.jsx)(n.td,{children:"Total Energy Exported (lifetime discharge energy; 0 if no V2G support)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"session_id"})}),(0,s.jsx)(n.td,{children:"-"}),(0,s.jsx)(n.td,{children:"string"}),(0,s.jsx)(n.td,{children:"Session identifier"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"session_import_Wh"})}),(0,s.jsx)(n.td,{children:"Wh"}),(0,s.jsx)(n.td,{children:"integer"}),(0,s.jsx)(n.td,{children:"Session Energy Imported (reset on connect/disconnect)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"session_export_Wh"})}),(0,s.jsx)(n.td,{children:"Wh"}),(0,s.jsx)(n.td,{children:"integer"}),(0,s.jsx)(n.td,{children:"Session Energy Exported (reset on connect/disconnect)"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Status Values:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:'"charging"'})," - Vehicle is connected and actively charging/discharging"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:'"suspended"'})," - A vehicle is plugged into the port, but the charger is not delivering any power"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:'"available"'})," - Charger is ready and no vehicle connected"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:'"preparing"'})," - Vehicle connected, preparing to charge (authentication, cable check, etc.)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:'"error"'})," - Charger or charging session has encountered an error"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"thoughts-on-ux-and-defaults-for-launch",children:"Thoughts on UX and Defaults for Launch"}),"\n",(0,s.jsx)(n.p,{children:"For December (V2X-launch), prioritize minimal viable: Run with Alt A (automatic + override) \u2013 it's user-friendly without being annoying. At connect (detect via OCPP):"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"If Ambibox/ISO 15118: Pull SoC/capacity auto."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:'Otherwise: Prompt "Car connected on charger X. Is it your [last/default car]? Yes/No" \u2013 choose from registry.'}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Override: Always button for manual SoC/input."}),"\n"]}),"\n"]})]})}function o(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>d,x:()=>l});var i=r(6540);const s={},t=i.createContext(s);function d(e){const n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:d(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);