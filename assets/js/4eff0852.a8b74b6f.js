"use strict";(self.webpackChunksrcful_documentation=self.webpackChunksrcful_documentation||[]).push([[1993],{3905:(e,t,a)=>{a.d(t,{Zo:()=>p,kt:()=>d});var n=a(7294);function s(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){s(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,s=function(e,t){if(null==e)return{};var a,n,s={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(s[a]=e[a]);return s}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}var o=n.createContext({}),m=function(e){var t=n.useContext(o),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},p=function(e){var t=m(e.components);return n.createElement(o.Provider,{value:t},e.children)},c="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},h=n.forwardRef((function(e,t){var a=e.components,s=e.mdxType,r=e.originalType,o=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),c=m(a),h=s,d=c["".concat(o,".").concat(h)]||c[h]||u[h]||r;return a?n.createElement(d,i(i({ref:t},p),{},{components:a})):n.createElement(d,i({ref:t},p))}));function d(e,t){var a=arguments,s=t&&t.mdxType;if("string"==typeof e||s){var r=a.length,i=new Array(r);i[0]=h;var l={};for(var o in t)hasOwnProperty.call(t,o)&&(l[o]=t[o]);l.originalType=e,l[c]="string"==typeof e?e:s,i[1]=l;for(var m=2;m<r;m++)i[m]=a[m];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}h.displayName="MDXCreateElement"},7561:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>o,contentTitle:()=>i,default:()=>u,frontMatter:()=>r,metadata:()=>l,toc:()=>m});var n=a(7462),s=(a(7294),a(3905));const r={sidebar_position:1,slug:"/developer/core_principles",pagination_prev:null},i="Core Principles",l={unversionedId:"developer/core-principles",id:"developer/core-principles",title:"Core Principles",description:"The Sourceful energy system is built on fundamental principles that ensure data integrity, energy conservation, and system reliability. These principles are foundational and constitutional - they govern all modeling, control, and accounting operations within the Sourceful ecosystem.",source:"@site/docs/developer/core-principles.md",sourceDirName:"developer",slug:"/developer/core_principles",permalink:"/developer/core_principles",draft:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,slug:"/developer/core_principles",pagination_prev:null},sidebar:"tutorialSidebar",next:{title:"Cloud-to-Cloud Integration with the Sourceful Energy Network (SEN)",permalink:"/developer/cloud"}},o={},m=[{value:"Table of Contents",id:"table-of-contents",level:2},{value:"Foundational Principles",id:"foundational-principles",level:2},{value:"1. Energy is Primary",id:"1-energy-is-primary",level:3},{value:"2. The Site Boundary",id:"2-the-site-boundary",level:3},{value:"3. Canonical Sign Convention",id:"3-canonical-sign-convention",level:3},{value:"4. Units and Base System",id:"4-units-and-base-system",level:3},{value:"5. Determinism",id:"5-determinism",level:3},{value:"6. The Source of Time",id:"6-the-source-of-time",level:3},{value:"7. Simplicity &amp; Extensibility",id:"7-simplicity--extensibility",level:3},{value:"Conservation Example",id:"conservation-example",level:2},{value:"Energy Balance at the PCC",id:"energy-balance-at-the-pcc",level:3}],p={toc:m},c="wrapper";function u(e){let{components:t,...a}=e;return(0,s.kt)(c,(0,n.Z)({},p,a,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("h1",{id:"core-principles"},"Core Principles"),(0,s.kt)("p",null,"The Sourceful energy system is built on fundamental principles that ensure data integrity, energy conservation, and system reliability. These principles are foundational and constitutional - they govern all modeling, control, and accounting operations within the Sourceful ecosystem."),(0,s.kt)("h2",{id:"table-of-contents"},"Table of Contents"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"#foundational-principles"},"Foundational Principles"),(0,s.kt)("ul",{parentName:"li"},(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"#1-energy-is-primary"},"1. Energy is Primary")),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"#2-the-site-boundary"},"2. The Site Boundary")),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"#3-canonical-sign-convention"},"3. Canonical Sign Convention")),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"#4-units-and-base-system"},"4. Units and Base System")),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"#5-determinism"},"5. Determinism")),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"#6-the-source-of-time"},"6. The Source of Time")),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"#7-simplicity--extensibility"},"7. Simplicity & Extensibility")))),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"#conservation-example"},"Conservation Example"))),(0,s.kt)("h2",{id:"foundational-principles"},"Foundational Principles"),(0,s.kt)("h3",{id:"1-energy-is-primary"},"1. Energy is Primary"),(0,s.kt)("p",null,"All modeling, control, and accounting start with energy. Power is always derived as \u0394E/\u0394t. This hierarchy is never reversed."),(0,s.kt)("h3",{id:"2-the-site-boundary"},"2. The Site Boundary"),(0,s.kt)("p",null,"Every calculation is framed relative to a clearly defined Site."),(0,s.kt)("p",null,"The Site is the thermodynamic control volume and, by default, the Point of Common Coupling (PCC) at the utility revenue/grid interconnection meter. All imports, exports, on-site generation, and storage are measured relative to this point."),(0,s.kt)("p",null,"If there are multiple service entrances, a single designated virtual Site must be declared, and all contributing meters explicitly mapped to it."),(0,s.kt)("h3",{id:"3-canonical-sign-convention"},"3. Canonical Sign Convention"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("strong",{parentName:"li"},"Positive = flow into the Site")),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("strong",{parentName:"li"},"Negative = flow out of the Site"))),(0,s.kt)("p",null,"This rule applies universally across telemetry, metrics, storage, and control. Counters are always positive and monotonic, but are split into import and export streams."),(0,s.kt)("h3",{id:"4-units-and-base-system"},"4. Units and Base System"),(0,s.kt)("p",null,"Internal representation uses only base SI units: watts (W), watt-hours (Wh), volts (V), amps (A), hertz (Hz), degrees Celsius (\xb0C), and time as Unix ms or ISO-8601. Unit conversions are performed only at ingestion or egress boundaries."),(0,s.kt)("h3",{id:"5-determinism"},"5. Determinism"),(0,s.kt)("p",null,'Physics must be conserved in every layer. The signed sum of all power (or interval energies) at the Site must balance within \u03b5. Any violation is a fault, not "just noise."'),(0,s.kt)("h3",{id:"6-the-source-of-time"},"6. The Source of Time"),(0,s.kt)("p",null,"Time is stamped at the first Sourceful-controlled collection point. This is the temporal authority for all measurements."),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"The Sourceful Time Rule:"),"\nTimestamps are applied by our gateways at the moment of data ingestion. We explicitly do NOT trust device clocks from inverters, meters, or third-party hardware. The first Sourceful software that touches the data owns the timestamp."),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Gateway Time Requirements:")),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},"All Sourceful gateways must maintain NTP synchronization to a common time source"),(0,s.kt)("li",{parentName:"ul"},"Maximum acceptable drift: \xb1100ms between any two gateways at a Site"),(0,s.kt)("li",{parentName:"ul"},"Timestamps applied as Unix epoch milliseconds in UTC"),(0,s.kt)("li",{parentName:"ul"},"Gateway health includes NTP sync status and last sync time")),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"The Collection Moment:"),"\nWhen a gateway reads a register (Modbus), receives a message (MQTT), or polls an API, it immediately stamps that measurement with its synchronized clock. This timestamp travels with the data forever - it is immutable and represents when Sourceful first observed the value."),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Example:"),"\nAn inverter reports 5247W but has a clock that's 3 hours off. Zap polls this inverter at 2024-01-15T14:30:00.000Z. The recorded measurement is:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "power_W": 5247,\n  "timestamp": 1705330200000,\n  "gateway": "zap-0342",\n  "source": "inverter-01"\n}\n')),(0,s.kt)("p",null,"The SOURCE of time is Sourceful. Physics determines the values; we determine when we saw them."),(0,s.kt)("h3",{id:"7-simplicity--extensibility"},"7. Simplicity & Extensibility"),(0,s.kt)("p",null,"The Core changes rarely and only with consensus. All extensions\u2014such as IEEE mappings, schemas, metric rules, and gateway tier strategies\u2014must conform to this document. The purpose of the Core is to set boundaries and invariants, not to prescribe implementation detail."),(0,s.kt)("h2",{id:"conservation-example"},"Conservation Example"),(0,s.kt)("h3",{id:"energy-balance-at-the-pcc"},"Energy Balance at the PCC"),(0,s.kt)("p",null,"The ",(0,s.kt)("em",{parentName:"p"},"Point of Common Coupling (PCC)")," \u2014 the utility grid meter \u2014 is the ",(0,s.kt)("strong",{parentName:"p"},"gate of the Site"),". All energy must pass through this gate. The energy balance is written as:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre"},"\u0394E(PCC) = LOAD + PV + BATT + EV + \u2026\n")),(0,s.kt)("p",null,"Every term is always ",(0,s.kt)("strong",{parentName:"p"},"added with a plus sign"),". The ",(0,s.kt)("strong",{parentName:"p"},"sign of the value")," encodes direction:"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("strong",{parentName:"li"},"Positive (+)")," \u2192 energy flowing into the Site (import, consumption, charging)"),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("strong",{parentName:"li"},"Negative (\u2013)")," \u2192 energy flowing out of the Site (export, generation, discharging)")),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Examples:")),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},"Grid importing 3 kWh \u2192 ",(0,s.kt)("inlineCode",{parentName:"li"},"\u0394E(PCC) = +3000 Wh")),(0,s.kt)("li",{parentName:"ul"},"Grid exporting 2 kWh \u2192 ",(0,s.kt)("inlineCode",{parentName:"li"},"\u0394E(PCC) = \u20132000 Wh")),(0,s.kt)("li",{parentName:"ul"},"PV generation of 5 kWh \u2192 recorded as ",(0,s.kt)("inlineCode",{parentName:"li"},"\u20135000 Wh")," (flow out of Site)"),(0,s.kt)("li",{parentName:"ul"},"Battery charging with 2 kWh \u2192 recorded as ",(0,s.kt)("inlineCode",{parentName:"li"},"+2000 Wh")," (flow into Site)")),(0,s.kt)("p",null,'The math is always a sum. Engineers don\'t need to remember which channels are "subtracted"; the rule is universal: direction is in the sign.'),(0,s.kt)("p",null,"This formulation is not arbitrary; it is ",(0,s.kt)("strong",{parentName:"p"},"energy conservation")," applied at the Site boundary. The Site is treated as a ",(0,s.kt)("strong",{parentName:"p"},"thermodynamic control volume"),":"),(0,s.kt)("div",{className:"math math-display"},(0,s.kt)("span",{parentName:"div",className:"katex-display"},(0,s.kt)("span",{parentName:"span",className:"katex"},(0,s.kt)("span",{parentName:"span",className:"katex-mathml"},(0,s.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},(0,s.kt)("semantics",{parentName:"math"},(0,s.kt)("mrow",{parentName:"semantics"},(0,s.kt)("mi",{parentName:"mrow",mathvariant:"normal"},"\u0394"),(0,s.kt)("msub",{parentName:"mrow"},(0,s.kt)("mi",{parentName:"msub"},"E"),(0,s.kt)("mtext",{parentName:"msub"},"PCC")),(0,s.kt)("mo",{parentName:"mrow"},"="),(0,s.kt)("munder",{parentName:"mrow"},(0,s.kt)("mo",{parentName:"munder"},"\u2211"),(0,s.kt)("mi",{parentName:"munder"},"i")),(0,s.kt)("mi",{parentName:"mrow",mathvariant:"normal"},"\u0394"),(0,s.kt)("msub",{parentName:"mrow"},(0,s.kt)("mi",{parentName:"msub"},"E"),(0,s.kt)("mi",{parentName:"msub"},"i"))),(0,s.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\Delta E_\\text{PCC} = \\sum_i \\Delta E_i")))),(0,s.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,s.kt)("span",{parentName:"span",className:"base"},(0,s.kt)("span",{parentName:"span",className:"strut",style:{height:"0.8333em",verticalAlign:"-0.15em"}}),(0,s.kt)("span",{parentName:"span",className:"mord"},"\u0394"),(0,s.kt)("span",{parentName:"span",className:"mord"},(0,s.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.05764em"}},"E"),(0,s.kt)("span",{parentName:"span",className:"msupsub"},(0,s.kt)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,s.kt)("span",{parentName:"span",className:"vlist-r"},(0,s.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.3283em"}},(0,s.kt)("span",{parentName:"span",style:{top:"-2.55em",marginLeft:"-0.0576em",marginRight:"0.05em"}},(0,s.kt)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,s.kt)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,s.kt)("span",{parentName:"span",className:"mord text mtight"},(0,s.kt)("span",{parentName:"span",className:"mord mtight"},"PCC"))))),(0,s.kt)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,s.kt)("span",{parentName:"span",className:"vlist-r"},(0,s.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.15em"}},(0,s.kt)("span",{parentName:"span"})))))),(0,s.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}),(0,s.kt)("span",{parentName:"span",className:"mrel"},"="),(0,s.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}})),(0,s.kt)("span",{parentName:"span",className:"base"},(0,s.kt)("span",{parentName:"span",className:"strut",style:{height:"2.3277em",verticalAlign:"-1.2777em"}}),(0,s.kt)("span",{parentName:"span",className:"mop op-limits"},(0,s.kt)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,s.kt)("span",{parentName:"span",className:"vlist-r"},(0,s.kt)("span",{parentName:"span",className:"vlist",style:{height:"1.05em"}},(0,s.kt)("span",{parentName:"span",style:{top:"-1.8723em",marginLeft:"0em"}},(0,s.kt)("span",{parentName:"span",className:"pstrut",style:{height:"3.05em"}}),(0,s.kt)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,s.kt)("span",{parentName:"span",className:"mord mathnormal mtight"},"i"))),(0,s.kt)("span",{parentName:"span",style:{top:"-3.05em"}},(0,s.kt)("span",{parentName:"span",className:"pstrut",style:{height:"3.05em"}}),(0,s.kt)("span",{parentName:"span"},(0,s.kt)("span",{parentName:"span",className:"mop op-symbol large-op"},"\u2211")))),(0,s.kt)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,s.kt)("span",{parentName:"span",className:"vlist-r"},(0,s.kt)("span",{parentName:"span",className:"vlist",style:{height:"1.2777em"}},(0,s.kt)("span",{parentName:"span"}))))),(0,s.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.1667em"}}),(0,s.kt)("span",{parentName:"span",className:"mord"},"\u0394"),(0,s.kt)("span",{parentName:"span",className:"mord"},(0,s.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.05764em"}},"E"),(0,s.kt)("span",{parentName:"span",className:"msupsub"},(0,s.kt)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,s.kt)("span",{parentName:"span",className:"vlist-r"},(0,s.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.3117em"}},(0,s.kt)("span",{parentName:"span",style:{top:"-2.55em",marginLeft:"-0.0576em",marginRight:"0.05em"}},(0,s.kt)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,s.kt)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,s.kt)("span",{parentName:"span",className:"mord mathnormal mtight"},"i")))),(0,s.kt)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,s.kt)("span",{parentName:"span",className:"vlist-r"},(0,s.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.15em"}},(0,s.kt)("span",{parentName:"span"}))))))))))),(0,s.kt)("p",null,"The equation says: whatever crosses into or out of the Site must add up. Energy cannot vanish; it only changes form or direction. By always summing with plus signs and encoding direction in the sign of each term, we are directly enforcing conservation of energy in software."),(0,s.kt)("p",null,"Any mismatch beyond tolerance \u03b5 means something is broken \u2014 a meter error, telemetry bug, or mis-signed flow. This is how physics itself becomes a validator for the system."))}u.isMDXComponent=!0}}]);