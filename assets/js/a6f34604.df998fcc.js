"use strict";(self.webpackChunksrcful_documentation=self.webpackChunksrcful_documentation||[]).push([[7553],{3905:(e,t,a)=>{a.d(t,{Zo:()=>u,kt:()=>h});var n=a(7294);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var l=n.createContext({}),p=function(e){var t=n.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},u=function(e){var t=p(e.components);return n.createElement(l.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,i=e.mdxType,r=e.originalType,l=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),c=p(a),m=i,h=c["".concat(l,".").concat(m)]||c[m]||d[m]||r;return a?n.createElement(h,o(o({ref:t},u),{},{components:a})):n.createElement(h,o({ref:t},u))}));function h(e,t){var a=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=a.length,o=new Array(r);o[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[c]="string"==typeof e?e:i,o[1]=s;for(var p=2;p<r;p++)o[p]=a[p];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},6553:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>d,frontMatter:()=>r,metadata:()=>s,toc:()=>p});var n=a(7462),i=(a(7294),a(3905));const r={sidebar_position:2,slug:"/developer/api/authentication",pagination_prev:null},o="Authentication",s={unversionedId:"developer/API/authentication",id:"developer/API/authentication",title:"Authentication",description:"Currently, authentication is not required for the majority of calls to the API. This open access model allows developers to quickly explore and integrate with our platform without the initial overhead of authentication setup.",source:"@site/docs/developer/API/authentication.md",sourceDirName:"developer/API",slug:"/developer/api/authentication",permalink:"/developer/api/authentication",draft:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2,slug:"/developer/api/authentication",pagination_prev:null},sidebar:"tutorialSidebar",next:{title:"MCP Integration (AI)",permalink:"/developer/api/mcp-ai"}},l={},p=[{value:"API Key",id:"api-key",level:2},{value:"Message Protocol",id:"message-protocol",level:2},{value:"Implementation Process:",id:"implementation-process",level:3},{value:"Example: Gateway Ownership Verification",id:"example-gateway-ownership-verification",level:3},{value:"Example API Call Using Message Authentication:",id:"example-api-call-using-message-authentication",level:3},{value:"Issued At and Expiration Time",id:"issued-at-and-expiration-time",level:3},{value:"Signature",id:"signature",level:2}],u={toc:p},c="wrapper";function d(e){let{components:t,...a}=e;return(0,i.kt)(c,(0,n.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"authentication"},"Authentication"),(0,i.kt)("p",null,"Currently, authentication is not required for the majority of calls to the API. This open access model allows developers to quickly explore and integrate with our platform without the initial overhead of authentication setup."),(0,i.kt)("p",null,"However, please ",(0,i.kt)("strong",{parentName:"p"},"note")," that this authentication model may change in the future. We anticipate implementing access controls where certain data types or high-resolution historical data may require authentication."),(0,i.kt)("p",null,"The Sourceful API supports several authentication mechanisms, each designed for specific use cases:"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Authentication Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Purpose"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"API Key")),(0,i.kt)("td",{parentName:"tr",align:null},"Administrative access for system management")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"Message Protocol")),(0,i.kt)("td",{parentName:"tr",align:null},"The default authentication method for building client-side applications")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("strong",{parentName:"td"},"Signature")),(0,i.kt)("td",{parentName:"tr",align:null},"Hardware device authentication")))),(0,i.kt)("h2",{id:"api-key"},"API Key"),(0,i.kt)("p",null,"API-key authentication is almost always for Administrative tasks, functions or analytics. As a developer using the API the API-key authentication method is not available."),(0,i.kt)("h2",{id:"message-protocol"},"Message Protocol"),(0,i.kt)("p",null,"The Sourceful message protocol is heavily inspired by ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/ChainAgnostic/CAIPs/blob/master/CAIPs/caip-122.md"},"CAIP-122")," and provides a standardized format for creating messages that will be signed."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Basic Message Format:")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"https://srcful.io/ wants you to sign data:\n{public key}\n\n{Reason for signing}\n\nIssued At (UTC): {yyyy-MM-ddTHH:mm:ss.fffZ}\nExpiration Time (UTC): {yyyy-MM-ddTHH:mm:ss.fffZ}\n")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Extended Message Format with Properties:")),(0,i.kt)("p",null,"Most operations require additional property data specific to the operation:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"https://srcful.io/ wants you to sign data:\n{public key}\n\n{Reason for signing}\n\n{Property name}: {Property data}\nIssued At (UTC): {yyyy-MM-ddTHH:mm:ss.fffZ}\nExpiration Time (UTC): {yyyy-MM-ddTHH:mm:ss.fffZ}\n")),(0,i.kt)("h3",{id:"implementation-process"},"Implementation Process:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Create the standardized message following the format above"),(0,i.kt)("li",{parentName:"ol"},"Sign the message using an Ed25519 key pair"),(0,i.kt)("li",{parentName:"ol"},"Include both the original message and its signature in your API call")),(0,i.kt)("h3",{id:"example-gateway-ownership-verification"},"Example: Gateway Ownership Verification"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"https://srcful.io/ wants you to sign data with your Ed25519 key:\nA7E82D76F515F1738C6C7AFA3BFE5A218E246C007F83\n\nVerify ownership of gateways\n\nGateways: gatewayId1, gatewayId2 \nIssued At (UTC): 2025-05-14T14:30:00.000Z\nExpiration Time (UTC): 2025-05-14T15:30:00.000Z\n")),(0,i.kt)("h3",{id:"example-api-call-using-message-authentication"},"Example API Call Using Message Authentication:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-graphql"},'# Example: Retrieve private data from a gateway using message authentication\nquery {\n  gateway {\n    gateway(\n      id: "012307e4843d412cee",  # Gateway ID\n      auth: {\n        message: {\n          message: "https://srcful.io/ wants you to sign data with your Ed25519 key:\\nA7E82D76F515F9A6BC3F63139904AAB391738C6C7AFA3BFE5A218E246C007F83\\n\\nGateway Data Access\\n\\nGateways: 012307e4843d412cee\\nIssued At (UTC): 2025-05-14T14:30:00.000Z\\nExpiration Time (UTC): 2025-05-14T15:30:00.000Z",\n          signature: "base64-encoded-ed25519-signature"\n        }\n      }\n    ) {\n      id\n      name\n      privateData {\n        latitude\n        longitude\n      }\n      ders {\n        type\n        sn\n        rawSn  # Only available with authentication\n      }\n    }\n  }\n}\n')),(0,i.kt)("h3",{id:"issued-at-and-expiration-time"},"Issued At and Expiration Time"),(0,i.kt)("p",null,"Depending on the message the timespan the ",(0,i.kt)("inlineCode",{parentName:"p"},"Issued At")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"Expiration Time")," creates will need to be diffrent. The ownership message that is the most common message used have a maximum lifetime of 365 days."),(0,i.kt)("h2",{id:"signature"},"Signature"),(0,i.kt)("p",null,"Hardware gateways use JWT (JSON Web Token) for secure device-to-server authentication. The signature is also used in the initialize operation during gateway inception when a gateway has no owner yet."))}d.isMDXComponent=!0}}]);